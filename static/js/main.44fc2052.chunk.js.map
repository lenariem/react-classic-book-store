{"version":3,"sources":["img/logo.svg","img/github.svg","components/Header/Header.jsx","config.js","img/preloader.svg","components/Preloader/Preloader.jsx","components/GoogItem/GoodItem.jsx","components/GoodsList/GoodsList.jsx","components/Cart/Cart.jsx","components/CartItem/CartItem.jsx","components/CartList/CartList.jsx","components/Popup/Popup.jsx","components/Search/Search.jsx","components/Main/Main.jsx","components/Footer/Footer.jsx","App.js","index.js"],"names":["Header","className","onClick","window","location","reload","src","Logo","alt","id","href","title","target","GitIcon","API_URL","process","Preloader","PreloaderImg","GoodItem","props","isbn13","subtitle","image","price","addToCart","useState","btnText","setBtnText","singleBookData","setSingleBookData","authors","language","pages","year","desc","handleAboutBook","bookId","fetch","then","response","json","data","catch","err","console","log","GoodsList","goods","Function","prototype","length","map","item","Cart","quantity","setCartShown","toggleCartDisplay","useEffect","close","e","keyCode","addEventListener","removeEventListener","CartItem","deleteFromCart","incQuantity","decQuantity","slice","toFixed","CartList","order","totalPrice","reduce","sum","el","style","color","stripeKey","token","addresses","locale","billingAddress","shippingAddress","bitcoin","Popup","closePopup","timerId","setTimeout","clearTimeout","Search","getData","goodsLength","searchTerm","setSearchTerm","handleSearch","type","placeholder","maxLength","value","onChange","term","toLowerCase","onKeyPress","key","Main","setGoods","loading","setLoading","setOrder","isCartShown","popupTitle","setPopupTitle","urlToFetch","url","trim","books","itemIndex","findIndex","orderItem","newItem","newOrder","index","filter","newQuantity","Footer","Date","getFullYear","scrollTo","top","behavior","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2XAAe,G,YAAA,IAA0B,kCCA1B,MAA0B,mC,OCK1B,SAASA,IACtB,OACE,iCACE,qBAAKC,UAAU,wBAAf,SACE,sBAAKA,UAAU,oCAAf,UACE,qBAAKA,UAAU,aAAaC,QAAS,kBAAMC,OAAOC,SAASC,UAA3D,SACE,qBAAKC,IAAKC,EAAMC,IAAI,OAAOP,UAAU,eAGvC,sBAAMA,UAAU,WAAhB,sBACA,oBAAIQ,GAAG,aAAaR,UAAU,6BAA9B,SACE,6BACE,mBACES,KAAK,yCACLC,MAAM,iBACNC,OAAO,QAHT,SAKE,qBAAKN,IAAKO,EAASL,IAAI,cAAcP,UAAU,yB,yBCpBzDa,EAAUC,gCCFD,MAA0B,sC,MCI1B,SAASC,IACtB,OACE,sBAAKf,UAAU,qBAAf,UACE,qBAAKK,IAAKW,EAAcT,IAAI,YAC5B,8C,YCJS,SAASU,EAASC,GAAQ,IAE7BV,EAMNU,EANFC,OAFoC,EAQlCD,EALFR,aAHoC,MAG5B,UAH4B,IAQlCQ,EAJFE,gBAJoC,MAIzB,iBAJyB,IAQlCF,EAHFG,aALoC,MAK5B,0BAL4B,IAQlCH,EAFFI,aANoC,MAM5B,UAN4B,EAOpCC,EACEL,EADFK,UAPoC,EAURC,mBAAS,cAVD,mBAU/BC,EAV+B,KAUtBC,EAVsB,OAWMF,mBAAS,IAXf,mBAW/BG,EAX+B,KAWfC,EAXe,KAY/BC,EAAwCF,EAAxCE,QAAQC,EAAgCH,EAAhCG,SAAUC,EAAsBJ,EAAtBI,MAAOC,EAAeL,EAAfK,KAAMC,EAASN,EAATM,KAEhCC,EAAkB,SAACC,GAErBT,EADc,eAAZD,EACS,mBAAGzB,UAAU,iBAAb,gCAEA,cAGboC,MAAM,GAAD,OAAIvB,EAAJ,iBAAoBsB,IACtBE,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACG,GACLA,GAAQZ,EAAkBY,MAE3BC,OAAM,SAACC,GACNC,QAAQC,IAAIF,OAIhB,OACA,sBAAK1C,UAAU,OAAf,UACe,eAAZyB,EACC,qCACE,qBAAKzB,UAAU,aAAaU,MAAM,kBAAkBT,QAAS,kBAAMiC,EAAgB1B,IAAnF,SACE,qBAAKH,IAAKgB,EAAOd,IAAKG,MAExB,sBAAKV,UAAU,eAAf,UACE,sBAAMA,UAAU,aAAhB,SAA8BU,IAC9B,4BAAIU,UAIR,mCACE,sBAAKpB,UAAU,eAAf,UACE,4BAAG,4BAAIU,MACP,uBACA,8BAAG,wCAAH,IAAmBmB,KACnB,8BAAG,0CAAH,IAAqBC,KACrB,8BAAG,uCAAH,IAAkBC,KAClB,8BAAG,sCAAH,IAAiBC,KACjB,8BAAG,6CAAH,IAAwBC,UAK9B,wBACEjC,UAAU,mCACVC,QAAS,kBAAMiC,EAAgB1B,IAFjC,SAIGiB,IAEH,sBAAKzB,UAAU,cAAf,UACE,sBAAMA,UAAU,aAAhB,SAA8BsB,IAC9B,wBACEtB,UAAU,iBACVC,QAAS,kBAAMsB,EAAU,CAAEf,KAAIE,QAAOY,QAAOD,WAF/C,uBCjEO,SAASwB,EAAU3B,GAAQ,IAAD,EAInCA,EAFF4B,aAFqC,MAE7B,GAF6B,IAInC5B,EADFK,iBAHqC,MAGzBwB,SAASC,UAHgB,EAMvC,OAAKF,EAAMG,OAKT,qBAAKjD,UAAU,QAAf,SACG8C,EAAMI,KAAI,SAACC,GAAD,OACT,cAAC,EAAD,2BAEMA,GAFN,IAGE5B,UAAWA,IAFN4B,EAAKhC,aAPT,oBAAInB,UAAU,WAAd,kC,MCRI,SAASoD,EAAKlC,GAAQ,IAAD,EAK9BA,EAHFmC,gBAFgC,MAErB,EAFqB,EAGhCC,EAEEpC,EAFFoC,aAHgC,EAK9BpC,EADFqC,yBAJgC,MAIZR,SAASC,UAJG,EAkBlC,OAVAQ,qBAAU,WACR,IAAMC,EAAQ,SAACC,GACK,KAAdA,EAAEC,SACJL,GAAa,IAIjB,OADApD,OAAO0D,iBAAiB,UAAWH,GAC5B,kBAAMvD,OAAO2D,oBAAoB,UAAWJ,MAClD,CAACH,IAGF,sBACEtD,UAAU,uCACVC,QAASsD,EACT7C,MAAM,kBAHR,UAKE,mBAAGV,UAAU,iBAAb,2BACCqD,EAAW,sBAAMrD,UAAU,gBAAhB,SAAiCqD,IAAmB,Q,gCCzBvD,SAASS,EAAT,GASX,IARFtD,EAQC,EARDA,GACAE,EAOC,EAPDA,MACAY,EAMC,EANDA,MACAD,EAKC,EALDA,MACAgC,EAIC,EAJDA,SACAU,EAGC,EAHDA,eACAC,EAEC,EAFDA,YACAC,EACC,EADDA,YAEA,OACE,qBAAIjE,UAAU,yBAAd,UACE,qBAAKK,IAAKgB,EAAOd,IAAKG,EAAOV,UAAU,WACvC,sBAAMA,UAAU,QAAhB,SAAyBU,IACzB,8BACGY,EAAO,IACR,mBACEtB,UAAU,8BACVC,QAAS,kBAAMgE,EAAYzD,IAF7B,oBAKK,IAPP,IAQI6C,EAAU,IACZ,mBACErD,UAAU,8BACVC,QAAS,kBAAM+D,EAAYxD,IAF7B,iBAKK,IAdP,OAeOc,EAAM4C,MAAM,IAAMb,GAAUc,QAAQ,GAf3C,OAiBA,sBACEnE,UAAU,oBACVU,MAAM,wBACNT,QAAS,kBAAM8D,EAAevD,IAHhC,SAKE,mBAAGR,UAAU,kCAAb,yBCjCO,SAASoE,EAASlD,GAAQ,IAAD,EAOlCA,EALFmD,aAFoC,MAE5B,GAF4B,IAOlCnD,EAJFqC,yBAHoC,MAGhBR,SAASC,UAHO,IAOlC9B,EAHF6C,sBAJoC,MAInBhB,SAASC,UAJU,IAOlC9B,EAFF8C,mBALoC,MAKtBjB,SAASC,UALa,IAOlC9B,EADF+C,mBANoC,MAMtBlB,SAASC,UANa,EAShCsB,EAAaD,EAChBE,QAAO,SAACC,EAAKC,GACZ,OAAOD,IAAOC,EAAGnD,MAAM4C,MAAM,IAAMO,EAAGpB,WACrC,GACFc,QAAQ,GAMX,OACE,sBAAKnE,UAAU,gBAAf,UACE,oBAAIA,UAAU,kBAAd,0BACA,qBAAIA,UAAU,aAAd,UACGqE,EAAMpB,OACLoB,EAAMnB,KAAI,SAACC,GAAD,OACR,cAAC,EAAD,2BAEMA,GAFN,IAGEY,eAAgBA,EAChBC,YAAaA,EACbC,YAAaA,IAJRd,EAAK3C,OAQd,oBAAIR,UAAU,kBAAd,gCAEF,oBAAIA,UAAU,kBAAd,SACE,6CACe,IACb,uBAAMA,UAAU,oBAAoB0E,MAAO,CAAEC,MAAO,QAApD,UACGL,EADH,eAON,cAAC,IAAD,CACEM,UPrDW9D,8GOsDX+D,MAjCc,SAACA,EAAOC,GAC1BnC,QAAQC,IAAI,CAAEiC,QAAOC,eAiCjBC,OAAO,KACPC,gBAAc,EACdC,iBAAe,EACfC,SAAO,EANT,SAQE,wBAAQlF,UAAU,6CAAlB,4CAIF,mBACEA,UAAU,4BACVC,QAASsD,EACT7C,MAAM,aAHR,sB,MC7DS,SAASyE,EAAMjE,GAAQ,IAAD,EACqBA,EAA/CR,aAD0B,MAClB,GADkB,IACqBQ,EAAnCkE,kBADc,MACDrC,SAASC,UADR,EAUjC,OAPAQ,qBAAU,WACN,IAAM6B,EAAUC,WAAWF,EAAY,KACvC,OAAO,WACHG,aAAaF,MAElB,CAACD,IAGA,qBAAK5E,GAAG,kBAAR,SACI,sBAAKR,UAAU,QAAf,UAAwBU,EAAxB,sB,MCXG,SAAS8E,EAAT,GAA2C,IAAzBC,EAAwB,EAAxBA,QAASC,EAAe,EAAfA,YAAe,EACnBlE,mBAAS,IADU,mBAChDmE,EADgD,KACpCC,EADoC,KAQjDC,EAAe,WACfF,GACFF,EAAQ,GAAD,OAAI5E,EAAJ,WAAsB8E,IAWjC,OACE,qCACE,qBAAK3F,UAAU,MAAf,SACE,sBAAKA,UAAU,sBAAf,UACE,uBACE8F,KAAK,OACL9F,UAAU,WACV+F,YAAY,YACZC,UAAU,MACVC,MAAON,EACPO,SA5Be,SAACxC,GACxB,IAAIyC,EAAOzC,EAAE/C,OAAOsF,MAAMG,cAC1BR,EAAcO,IA2BNE,WAjBQ,SAAC3C,GACH,UAAVA,EAAE4C,KACJT,KAgBM5F,QAAS,WACP2F,EAAc,OAIlB,wBACE5F,UAAU,sCACVC,QAAS,kBAAM4F,KAFjB,SAIE,mBAAG7F,UAAU,iBAAb,2BAKL2F,GAAc,8CAAiBD,EAAjB,UC1CN,SAASa,IAAQ,IAAD,EACH/E,mBAAS,IADN,mBACtBsB,EADsB,KACf0D,EADe,OAEChF,oBAAS,GAFV,mBAEtBiF,EAFsB,KAEbC,EAFa,OAGHlF,mBAAS,IAHN,mBAGtB6C,EAHsB,KAGfsC,EAHe,OAIOnF,oBAAS,GAJhB,mBAItBoF,EAJsB,KAITtD,EAJS,OAKO9B,mBAAS,IALhB,mBAKtBqF,EALsB,KAKVC,EALU,KAQvBrB,EAAU,SAACsB,GAA8B,IAAlBZ,EAAiB,uDAAV,MAC5Ba,EAAG,UAAMD,GAAN,OAAmBZ,EAAKc,QACjC7E,MAAM4E,GACH3E,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACG,GACLA,EAAK0E,OAASV,EAAShE,EAAK0E,OAC5BR,GAAW,MAEZjE,OAAM,SAACC,GACNC,QAAQC,IAAIF,GACZgE,GAAW,OAKXnD,EAAoB,WACxBD,GAAcsD,IA6EhB,OAJApD,qBAAU,WACRiC,EAAQ5E,EAAS,SAChB,IAGD,uBAAMb,UAAU,oBAAhB,UACE,cAAC,EAAD,CAAQyF,QAASA,EAASC,YAAa5C,EAAMG,SAC7C,cAAC,EAAD,CACEoB,MAAOA,EACPhB,SAAUgB,EAAMpB,OAChBM,kBAAmBA,EACnBD,aAAcA,IAEfmD,EACC,cAAC,EAAD,IAEA,8BACE,cAAC,EAAD,CAAW3D,MAAOA,EAAOvB,UAtFf,SAAC4B,GAEjB,IAAMgE,EAAY9C,EAAM+C,WAAU,SAACC,GAAD,OAAeA,EAAU7G,KAAO2C,EAAK3C,MACvE,GAAI2G,EAAY,EAAG,CAEjB,IAAMG,EAAO,2BACRnE,GADQ,IAEXE,SAAU,IAEZsD,EAAS,GAAD,mBAAKtC,GAAL,CAAYiD,SACf,CAEL,IAAMC,EAAWlD,EAAMnB,KAAI,SAACmE,EAAWG,GACrC,OAAIA,IAAUL,EACL,2BACFE,GADL,IAEEhE,SAAUgE,EAAUhE,SAAW,IAG1BgE,KAGXV,EAASY,GAEXT,EAAc3D,EAAKzC,YAkEhBkG,GACC,cAAC,EAAD,CACEvC,MAAOA,EACPd,kBAAmBA,EACnBQ,eAlEe,SAACvD,GACtB,IAAM+G,EAAWlD,EAAMoD,QAAO,SAACtE,GAAD,OAAUA,EAAK3C,KAAOA,KACpDmG,EAASY,IAiEHvD,YA7DY,SAACxD,GACnB,IAAM+G,EAAWlD,EAAMnB,KAAI,SAACC,GAC1B,OAAIA,EAAK3C,KAAOA,EACP,2BACF2C,GADL,IAEEE,SAAUF,EAAKE,SAAW,IAGrBF,KAGXwD,EAASY,IAmDHtD,YAhDY,SAACzD,GACnB,IAAM+G,EAAWlD,EAAMnB,KAAI,SAACC,GAC1B,GAAIA,EAAK3C,KAAOA,EAAI,CAClB,IAAMkH,EAAcvE,EAAKE,SAAW,EACpC,OAAO,2BACFF,GADL,IAEEE,SAAUqE,GAAe,EAAIA,EAAc,IAG7C,OAAOvE,KAGXwD,EAASY,MAwCNV,GAAc,cAAC,EAAD,CAAOnG,MAAOmG,EAAYzB,WApC1B,WACjB0B,EAAc,U,MC5FH,SAASa,IACtB,OACE,wBAAQ3H,UAAU,cAAlB,SACE,qBAAKA,UAAU,yCAAf,SACE,sBAAKA,UAAU,YAAf,UACE,uCAAM,IAAI4H,MAAOC,cAAjB,6BACA,wBACE7H,UAAU,2BACVU,MAAM,YACNT,QAAS,WAfnBC,OAAO4H,SAAS,CACdC,IAAK,EACLC,SAAU,YAUJ,SAKE,mBAAGhI,UAAU,iBAAb,mCCNGiI,MAVf,WACE,OACE,sBAAKjI,UAAU,MAAf,UACE,cAAC,EAAD,IACA,cAACuG,EAAD,IACA,cAAC,EAAD,QCLN2B,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.44fc2052.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.5e4e7f73.svg\";","export default __webpack_public_path__ + \"static/media/github.f11a34fa.svg\";","import React from \"react\";\r\nimport \"./Header.css\";\r\nimport Logo from \"../../img/logo.svg\";\r\nimport GitIcon from \"../../img/github.svg\";\r\n\r\nexport default function Header() {\r\n  return (\r\n    <header>\r\n      <nav className=\"deep-orange lighten-1\">\r\n        <div className=\"nav-wrapper deep-orange lighten-1\">\r\n          <div className=\"brand-logo\" onClick={() => window.location.reload()}>\r\n            <img src={Logo} alt=\"logo\" className=\"logoIcon\" />\r\n          </div>\r\n\r\n          <span className=\"logoText\">IT BOOKS</span>\r\n          <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\r\n            <li>\r\n              <a\r\n                href=\"https://github.com/lenariem/react-shop\"\r\n                title=\"Repo on GitHub\"\r\n                target=\"blank\"\r\n              >\r\n                <img src={GitIcon} alt=\"github link\" className=\"gitIcon\" />\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </nav>\r\n    </header>\r\n  );\r\n}\r\n","const STRIPE_KEY = process.env.REACT_APP_STRIPE_KEY;\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL;\r\n\r\nexport {\r\n    STRIPE_KEY,\r\n    API_URL\r\n}","export default __webpack_public_path__ + \"static/media/preloader.42905077.svg\";","import React from \"react\";\r\nimport PreloaderImg from \".././../img/preloader.svg\";\r\nimport \"./Preloader.css\";\r\n\r\nexport default function Preloader() {\r\n  return (\r\n    <div className=\"preloaderContainer\">\r\n      <img src={PreloaderImg} alt=\"loading\" />\r\n      <p>Loading...</p>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport \"./GoodItem.css\";\r\nimport { API_URL } from \"../../config\";\r\n\r\nexport default function GoodItem(props) {\r\n  const {\r\n    isbn13: id,\r\n    title = \"No Info\",\r\n    subtitle = \"No description\",\r\n    image = \"No Book Cover available\",\r\n    price = \"No Info\",\r\n    addToCart,\r\n  } = props;\r\n\r\n  const [btnText, setBtnText] = useState(\"About Book\");\r\n  const [singleBookData, setSingleBookData] = useState([]);\r\n  const {authors,language, pages, year, desc } = singleBookData;\r\n \r\n  const handleAboutBook = (bookId) => {\r\n    if (btnText === \"About Book\") {\r\n      setBtnText(<i className=\"material-icons\">keyboard_backspace</i>);\r\n    } else {\r\n      setBtnText(\"About Book\");\r\n    }\r\n   \r\n    fetch(`${API_URL}books/${bookId}`)\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        data && setSingleBookData(data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  \r\n    return (\r\n    <div className=\"card\">\r\n      {btnText === \"About Book\" ? (\r\n        <>\r\n          <div className=\"card-image\" title=\"About this book\" onClick={() => handleAboutBook(id)} >\r\n            <img src={image} alt={title} />\r\n          </div>\r\n          <div className=\"card-content\">\r\n            <span className=\"card-title\">{title}</span>\r\n            <p>{subtitle}</p>\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <div className=\"card-content\">\r\n            <p><b>{title}</b></p>\r\n            <hr />\r\n            <p><b>Author:</b> {authors}</p>\r\n            <p><b>Language:</b> {language}</p>\r\n            <p><b>Pages:</b> {pages}</p>\r\n            <p><b>Year:</b> {year}</p>\r\n            <p><b>Description:</b> {desc}</p>\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      <button\r\n        className=\"btn deep-purple accent-2 moreBtn\"\r\n        onClick={() => handleAboutBook(id)}\r\n      >\r\n        {btnText}\r\n      </button>\r\n      <div className=\"card-action\">\r\n        <span className=\"card-price\">{price}</span>\r\n        <button\r\n          className=\"btn right cyan\"\r\n          onClick={() => addToCart({ id, title, price, image })}\r\n        >\r\n          Buy\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./GoodsList.css\";\r\nimport GoodItem from \"../GoogItem/GoodItem\";\r\n\r\nexport default function GoodsList(props) {\r\n  const {\r\n    goods = [],\r\n    addToCart = Function.prototype,\r\n  } = props;\r\n  \r\n  if (!goods.length) {\r\n    return <h3 className=\"noResult\">No goods in shop now</h3>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"goods\">\r\n      {goods.map((item) => (\r\n        <GoodItem\r\n          key={item.isbn13}\r\n          {...item}\r\n          addToCart={addToCart}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport \"./Cart.css\";\r\n\r\nexport default function Cart(props) {\r\n  const {\r\n    quantity = 0,\r\n    setCartShown,\r\n    toggleCartDisplay = Function.prototype,\r\n  } = props;\r\n\r\n  //close cart on esc press\r\n  useEffect(() => {\r\n    const close = (e) => {\r\n      if (e.keyCode === 27) {\r\n        setCartShown(false);\r\n      }\r\n    };\r\n    window.addEventListener(\"keydown\", close);\r\n    return () => window.removeEventListener(\"keydown\", close);\r\n  }, [setCartShown]);\r\n\r\n  return (\r\n    <div\r\n      className=\"cart white-text deep-purple darken-2\"\r\n      onClick={toggleCartDisplay}\r\n      title=\"show your order\"\r\n    >\r\n      <i className=\"material-icons\">shopping_cart</i>\r\n      {quantity ? <span className=\"cart-quantity\">{quantity}</span> : null}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./CartItem.css\";\r\n\r\nexport default function CartItem({\r\n  id,\r\n  title,\r\n  price,\r\n  image,\r\n  quantity,\r\n  deleteFromCart,\r\n  incQuantity,\r\n  decQuantity,\r\n}) {\r\n  return (\r\n    <li className=\"collection-item avatar\">\r\n      <img src={image} alt={title} className=\"circle\" />\r\n      <span className=\"title\">{title}</span>\r\n      <p>\r\n        {price}{\" \"}\r\n        <i\r\n          className=\"material-icons cartQuantity\"\r\n          onClick={() => decQuantity(id)}\r\n        >\r\n          remove\r\n        </i>{\" \"}\r\n        x{quantity}{\" \"}\r\n        <i\r\n          className=\"material-icons cartQuantity\"\r\n          onClick={() => incQuantity(id)}\r\n        >\r\n          add\r\n        </i>{\" \"}\r\n        = {(+price.slice(1) * +quantity).toFixed(2)}$\r\n      </p>\r\n      <span\r\n        className=\"secondary-content\"\r\n        title=\"delete from your cart\"\r\n        onClick={() => deleteFromCart(id)}\r\n      >\r\n        <i className=\"material-icons item-delete-icon\">delete</i>\r\n      </span>\r\n    </li>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport StripeCheckout from \"react-stripe-checkout\";\r\nimport { STRIPE_KEY } from \"../../config\";\r\nimport \"./CartList.css\";\r\nimport CartItem from \"../CartItem/CartItem\";\r\n\r\nexport default function CartList(props) {\r\n  const {\r\n    order = [],\r\n    toggleCartDisplay = Function.prototype,\r\n    deleteFromCart = Function.prototype,\r\n    incQuantity = Function.prototype,\r\n    decQuantity = Function.prototype,\r\n  } = props;\r\n\r\n  const totalPrice = order\r\n    .reduce((sum, el) => {\r\n      return sum + +el.price.slice(1) * +el.quantity;\r\n    }, 0)\r\n    .toFixed(2);\r\n\r\n  const handleToken = (token, addresses) => {\r\n    console.log({ token, addresses });\r\n  };\r\n\r\n  return (\r\n    <div className=\"cartContainer\">\r\n      <h4 className=\"collection-item\">Your Order: </h4>\r\n      <ul className=\"collection\">\r\n        {order.length ? (\r\n          order.map((item) => (\r\n            <CartItem\r\n              key={item.id}\r\n              {...item}\r\n              deleteFromCart={deleteFromCart}\r\n              incQuantity={incQuantity}\r\n              decQuantity={decQuantity}\r\n            />\r\n          ))\r\n        ) : (\r\n          <li className=\"collection-item\">Your cart is empty</li>\r\n        )}\r\n        <li className=\"collection-item\">\r\n          <b>\r\n            Total price:{\" \"}\r\n            <span className=\"secondary-content\" style={{ color: \"#000\" }}>\r\n              {totalPrice}$\r\n            </span>\r\n          </b>\r\n        </li>\r\n      </ul>\r\n\r\n      <StripeCheckout\r\n        stripeKey={STRIPE_KEY}\r\n        token={handleToken}\r\n        locale=\"en\"\r\n        billingAddress\r\n        shippingAddress\r\n        bitcoin\r\n      >\r\n        <button className=\"secondary-content btn deep-purple darken-2\">\r\n          Delivery address and payment\r\n        </button>\r\n      </StripeCheckout>\r\n      <i\r\n        className=\"material-icons cart-close\"\r\n        onClick={toggleCartDisplay}\r\n        title=\"close cart\"\r\n      >\r\n        close\r\n      </i>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect} from 'react';\r\nimport './Popup.css';\r\n\r\nexport default function Popup(props) {\r\n    const {title = '', closePopup = Function.prototype} = props;\r\n    \r\n    useEffect(() => {\r\n        const timerId = setTimeout(closePopup, 3000);\r\n        return () => {\r\n            clearTimeout(timerId);\r\n        }\r\n    }, [closePopup]);\r\n\r\n    return (\r\n        <div id=\"toast-container\">\r\n            <div className=\"toast\">{title} added to cart</div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from \"react\";\r\nimport {API_URL} from '../../config';\r\nimport \"./Search.css\";\r\n\r\nexport default function Search({ getData, goodsLength }) {\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  \r\n  const handleSearchTerm = (e) => {\r\n    let term = e.target.value.toLowerCase();\r\n    setSearchTerm(term);\r\n  };\r\n\r\n  const handleSearch = () => {\r\n    if (searchTerm) {\r\n      getData(`${API_URL}search/`, searchTerm);\r\n    }\r\n  };\r\n\r\n  //search by Enter press\r\n  const handleKey = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      handleSearch();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"row\">\r\n        <div className=\"input-field col s12\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"validate\"\r\n            placeholder=\"Search...\"\r\n            maxLength=\"130\"\r\n            value={searchTerm}\r\n            onChange={handleSearchTerm}\r\n            onKeyPress={handleKey}\r\n            onClick={() => {\r\n              setSearchTerm(\"\");\r\n            }}\r\n          />\r\n\r\n          <button\r\n            className=\"btn search-btn deep-purple darken-2\"\r\n            onClick={() => handleSearch()}\r\n          >\r\n            <i className=\"material-icons\">search</i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {searchTerm && <p>Found books: {goodsLength} </p>}\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { API_URL } from \"../../config\";\r\nimport Preloader from \"../Preloader/Preloader\";\r\nimport GoodsList from \"../GoodsList/GoodsList\";\r\nimport Cart from \"../Cart/Cart\";\r\nimport CartList from \"../CartList/CartList\";\r\nimport Popup from \"../Popup/Popup\";\r\nimport Search from \"../Search/Search\";\r\n\r\nexport default function Main() {\r\n  const [goods, setGoods] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [order, setOrder] = useState([]);\r\n  const [isCartShown, setCartShown] = useState(false);\r\n  const [popupTitle, setPopupTitle] = useState(\"\");\r\n\r\n  //fetch data from API\r\n  const getData = (urlToFetch, term = \"new\") => {\r\n    const url = `${urlToFetch}${term.trim()}`;\r\n    fetch(url)\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        data.books && setGoods(data.books);\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  //shown or hidden cart\r\n  const toggleCartDisplay = () => {\r\n    setCartShown(!isCartShown);\r\n  };\r\n\r\n  //add good to cart\r\n  const addToCart = (item) => {\r\n    //to check if item already in cart\r\n    const itemIndex = order.findIndex((orderItem) => orderItem.id === item.id);\r\n    if (itemIndex < 0) {\r\n      //first time in cart\r\n      const newItem = {\r\n        ...item,\r\n        quantity: 1,\r\n      };\r\n      setOrder([...order, newItem]);\r\n    } else {\r\n      //good is already in a cart\r\n      const newOrder = order.map((orderItem, index) => {\r\n        if (index === itemIndex) {\r\n          return {\r\n            ...orderItem,\r\n            quantity: orderItem.quantity + 1,\r\n          };\r\n        } else {\r\n          return orderItem;\r\n        }\r\n      });\r\n      setOrder(newOrder);\r\n    }\r\n    setPopupTitle(item.title);\r\n  };\r\n\r\n  //delete from cart\r\n  const deleteFromCart = (id) => {\r\n    const newOrder = order.filter((item) => item.id !== id);\r\n    setOrder(newOrder);\r\n  };\r\n\r\n  //increment and decrement quantity in cart\r\n  const incQuantity = (id) => {\r\n    const newOrder = order.map((item) => {\r\n      if (item.id === id) {\r\n        return {\r\n          ...item,\r\n          quantity: item.quantity + 1,\r\n        };\r\n      } else {\r\n        return item;\r\n      }\r\n    });\r\n    setOrder(newOrder);\r\n  };\r\n\r\n  const decQuantity = (id) => {\r\n    const newOrder = order.map((item) => {\r\n      if (item.id === id) {\r\n        const newQuantity = item.quantity - 1;\r\n        return {\r\n          ...item,\r\n          quantity: newQuantity >= 0 ? newQuantity : 0,\r\n        };\r\n      } else {\r\n        return item;\r\n      }\r\n    });\r\n    setOrder(newOrder);\r\n  };\r\n\r\n  //popup add to cart\r\n  const closePopup = () => {\r\n    setPopupTitle(\"\");\r\n  };\r\n\r\n  //get goods on componentDidMount\r\n  useEffect(() => {\r\n    getData(API_URL, \"new\");\r\n  }, []);\r\n\r\n  return (\r\n    <main className=\"container content\">\r\n      <Search getData={getData} goodsLength={goods.length} />\r\n      <Cart\r\n        order={order}\r\n        quantity={order.length}\r\n        toggleCartDisplay={toggleCartDisplay}\r\n        setCartShown={setCartShown}\r\n      />\r\n      {loading ? (\r\n        <Preloader />\r\n      ) : (\r\n        <div>\r\n          <GoodsList goods={goods} addToCart={addToCart} />\r\n        </div>\r\n      )}\r\n\r\n      {isCartShown && (\r\n        <CartList\r\n          order={order}\r\n          toggleCartDisplay={toggleCartDisplay}\r\n          deleteFromCart={deleteFromCart}\r\n          incQuantity={incQuantity}\r\n          decQuantity={decQuantity}\r\n        />\r\n      )}\r\n\r\n      {popupTitle && <Popup title={popupTitle} closePopup={closePopup} />}\r\n    </main>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./Footer.css\";\r\n\r\nconst scrollToTop = () => {\r\n  window.scrollTo({\r\n    top: 0,\r\n    behavior: \"smooth\",\r\n  });\r\n};\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <footer className=\"page-footer\">\r\n      <div className=\"footer-copyright deep-orange lighten-1\">\r\n        <div className=\"container\">\r\n          <p>© {new Date().getFullYear()} Copyright Elena Riemer</p>\r\n          <button\r\n            className=\"btn deep-purple darken-2\"\r\n            title=\"Go to top\"\r\n            onClick={() => scrollToTop()}\r\n          >\r\n            <i className=\"material-icons\">arrow_upward</i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n","import \"./App.css\";\nimport Header from \"./components/Header/Header.jsx\";\nimport Main from \"./components/Main/Main\";\nimport Footer from \"./components/Footer/Footer\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Header />\n      <Main />\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}